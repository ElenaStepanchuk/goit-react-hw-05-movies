{"version":3,"file":"static/js/284.517c1048.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader.module.css?9d64","components/Loader.js","components/MoviesPage.js","helpers/FetchFilms.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"LoaderBox\":\"Loader_LoaderBox__JKkW6\"};","import { BallTriangle } from 'react-loader-spinner';\nimport css from './Loader.module.css';\nconst Loader = () => {\n  return (\n    <div className={css.LoaderBox}>\n      <BallTriangle color=\"#00BFFF\" height={200} width={200} />\n    </div>\n  );\n};\nexport default Loader;\n","import { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport styled from 'styled-components';\nimport { SerchFilms } from '../helpers/FetchFilms';\nimport noPoster from '../images/no-poster.jpg';\nimport Loader from './Loader';\nconst Gallery = styled.ul`\n  display: grid;\n  justify-content: center;\n  grid-template-columns: 340px 340px 340px 340px;\n  padding: 0;\n  margin: 20px auto;\n`;\nconst GalleryItem = styled.li`\n  list-style: none;\n  padding: 20px;\n`;\nconst GalleryItemTittle = styled.h2`\n  background: rgb(0, 255, 255, 0.8);\n  padding: 15px 4px;\n  margin: 0;\n  box-shadow: 10px 5px 5px rgb(0, 255, 255, 0.5);\n  border-left: solid 1px rgb(0, 255, 255);\n  border-bottom: solid 1px rgb(0, 255, 255);\n  font-size: 18px;\n  color: rgb(2, 16, 141);\n  text-align: center;\n  font-weight: 800;\n  font-style: italic;\n  text-transform: uppercase;\n`;\nconst GalleryItemImg = styled.img`\n  display: block;\n  box-shadow: 10px 8px 5px rgb(0, 255, 255, 0.5);\n`;\nconst GalleryItemBtn = styled.button`\n  display: block;\n  margin: 20px auto;\n  background: rgb(0, 255, 255);\n  box-shadow: -1px -1px 9px 6px rgb(0, 255, 255, 0.5);\n  border: solid 1px rgb(0, 255, 255);\n  border-radius: 5px;\n  color: rgb(2, 16, 141);\n  text-align: center;\n  font-style: italic;\n  padding: 15px;\n  font-weight: 900;\n  font-size: 18px;\n  text-transform: uppercase;\n`;\nconst GalleryItemLink = styled(Link)`\n  text-decoration: none;\n`;\nconst Form = styled.form`\n  display: flex;\n  justify-content: center;\n  padding: 40px;\n`;\nconst Input = styled.input`\n  padding: 10px;\n  font-weight: 800;\n  font-size: 18px;\n  color: rgb(2, 16, 141);\n  border-radius: 5px;\n`;\nconst SerchBtn = styled.button`\n  display: block;\n  background: rgb(0, 255, 255);\n  border: none;\n  border-radius: 5px;\n  color: rgb(2, 16, 141);\n  text-align: center;\n  font-style: italic;\n  padding: 15px;\n  font-weight: 900;\n  font-size: 18px;\n  text-transform: uppercase;\n`;\nconst MoviesPage = () => {\n  const [query, setQuery] = useState('');\n  const [films, setFilms] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const ChangeQuery = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams({ query });\n    if (query === '') {\n      setSearchParams('');\n      setFilms([]);\n      return toast('Введите имя фото!', {\n        position: 'top-center',\n      });\n    }\n    setFilms([]);\n    setQuery('');\n    setPage(1);\n  };\n  const Scroll = () => {\n    window.scrollBy({\n      top: 2000,\n      behavior: 'smooth',\n    });\n  };\n  const handleChangePage = () => {\n    Scroll();\n    setLoading(true);\n    setPage(prevPage => prevPage + 1);\n  };\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (location.search === '') return;\n    const SerchFilm = async () => {\n      setLoading(true);\n      try {\n        const response = await SerchFilms(page, query);\n        if (response.data.results.length === 0) {\n          setSearchParams('');\n          setFilms([]);\n          toast(\n            `Фильм с именем  ${query} не найден, введите новое имя фильма!`,\n            {\n              position: 'top-center',\n            }\n          );\n        }\n        setFilms(prevFilms => [...prevFilms, ...response.data.results]);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    SerchFilm();\n  }, [page, searchParams, setSearchParams, location.search]);\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Input\n          onChange={ChangeQuery}\n          type=\"text\"\n          value={query}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search films\"\n        ></Input>\n        <SerchBtn type=\"submit\">Serch</SerchBtn>\n      </Form>\n      {loading && <Loader />}\n      <Gallery>\n        {films.length > 0 &&\n          films.map(film => (\n            <GalleryItem key={film.id}>\n              <GalleryItemLink\n                to={`/movies/${film.id}`}\n                state={{ from: location }}\n              >\n                {film.poster_path ? (\n                  <GalleryItemImg\n                    src={`https://image.tmdb.org/t/p/w300${film.poster_path}`}\n                    alt={film.original_title}\n                  />\n                ) : (\n                  <GalleryItemImg\n                    src={noPoster}\n                    alt={film.original_title}\n                    width=\"300px\"\n                  />\n                )}\n                <GalleryItemTittle>\n                  {film.original_title || film.name}\n                </GalleryItemTittle>\n              </GalleryItemLink>\n            </GalleryItem>\n          ))}\n      </Gallery>\n      {films.length > 0 && (\n        <GalleryItemBtn\n          type=\"button\"\n          page={page}\n          onClick={() => handleChangePage(page)}\n        >\n          More films\n        </GalleryItemBtn>\n      )}\n    </>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\nconst API_KEY = '19261be26ee50f4d2c275bad83bad0b4';\nexport const TrendingFilms = async page => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/trending/all/week?api_key=${API_KEY}&page=${page}`\n  );\n};\nexport const DetailsFilm = async movieId => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n};\nexport const CastFilm = async movieId => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n};\nexport const ReviewsFilm = async movieId => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n};\nexport const SerchFilms = async (page, query) => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&include_adult=false&query=${query}`\n  );\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["className","css","color","height","width","Gallery","styled","GalleryItem","GalleryItemTittle","GalleryItemImg","GalleryItemBtn","GalleryItemLink","Link","Form","Input","SerchBtn","useState","query","setQuery","films","setFilms","page","setPage","loading","setLoading","useSearchParams","searchParams","setSearchParams","location","useLocation","handleChangePage","window","scrollBy","top","behavior","prevPage","useEffect","get","search","SerchFilm","SerchFilms","response","data","results","length","toast","position","prevFilms","console","log","onSubmit","event","preventDefault","onChange","currentTarget","value","toLowerCase","type","autoComplete","autoFocus","placeholder","map","film","to","id","state","from","poster_path","src","alt","original_title","noPoster","name","onClick","API_KEY","TrendingFilms","axios","DetailsFilm","movieId","CastFilm","ReviewsFilm","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}